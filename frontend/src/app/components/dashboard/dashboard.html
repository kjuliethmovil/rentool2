<!-- 
  Archivo: dashboard.component.html
  Autor: Karyn Movil Estacio
  Fecha: 2025-10-02
  Descripción: Dashboard con resumen, disponibilidad y formulario de contratos
-->

<div class="p-8 space-y-10">

  <!-- RESUMEN + DISPONIBILIDAD -->
  <section class="grid grid-cols-1 lg:grid-cols-2 gap-8">
    
    <!-- RESUMEN -->
    <div class="space-y-6">
      <h2 class="text-2xl font-bold text-red-600">Resumen</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Entregas / Devoluciones -->
        <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl shadow p-4">
          <h3 class="font-semibold mb-2">Entregas / Devoluciones</h3>
          <ul class="space-y-1 text-sm">
            <li *ngFor="let d of deliveries">{{ d.date }} - {{ d.item }}</li>
          </ul>
        </div>
        <!-- Pagos -->
        <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl shadow p-4">
          <h3 class="font-semibold mb-2">Pagos</h3>
          <ul class="space-y-1 text-sm">
            <li *ngFor="let p of payments">{{ p.date }} - ${{ p.amount }}</li>
          </ul>
        </div>
        <!-- Daños -->
        <div class="bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-xl shadow p-4">
          <h3 class="font-semibold mb-2">Daños</h3>
          <ul class="space-y-1 text-sm">
            <li *ngFor="let d of damages">{{ d.item }} - {{ d.note }}</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- DISPONIBILIDAD -->
    <div>
      <h2 class="text-2xl font-bold text-blue-600 mb-4">Disponibilidad por Categoría</h2>
      <div class="overflow-x-auto rounded-lg shadow bg-white dark:bg-gray-800">
        <table class="w-full text-left text-sm">
          <thead class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 uppercase">
            <tr>
              <th class="p-3">Categoría</th>
              <th class="p-3">Equipos Disponibles</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let cat of categories" class="border-b hover:bg-gray-50 dark:hover:bg-gray-600">
              <td class="p-3">{{ cat.name }}</td>
              <td class="p-3">{{ cat.available }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </section>

  <!-- FORMULARIO -->
  <section>
    <h2 class="text-2xl font-bold text-green-600 mb-4">Armar Contrato</h2>
    <form (ngSubmit)="createContract()" 
          class="space-y-6 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg max-w-3xl mx-auto">

      <!-- Selección de equipo -->
      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-200">Equipo</label>
        <select [(ngModel)]="contract.equipment" name="equipment" required
                class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-green-500">
          <option *ngFor="let eq of equipments" [value]="eq">{{ eq }}</option>
        </select>
      </div>

      <!-- Días de alquiler -->
      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-200">Días</label>
        <input type="number" [(ngModel)]="contract.days" name="days" required min="1"
               class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-green-500" />
      </div>

      <!-- Tarifa -->
      <div>
        <label class="block font-semibold text-gray-700 dark:text-gray-200">Tarifa diaria</label>
        <input type="number" [(ngModel)]="contract.rate" name="rate" required min="1"
               class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-green-500" />
      </div>

      <!-- Botón -->
      <div class="text-center">
        <button type="submit"
          class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-full shadow-lg transition-transform transform hover:scale-105">
          Crear Contrato
        </button>
      </div>
    </form>
  </section>

</div>
