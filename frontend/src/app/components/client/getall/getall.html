<!-- 
  Archivo: getall.html
  Autor: Karyn Movil Estacio
  Fecha: 2025-10-02
  Descripción: Vista para listar clientes en una tabla responsiva con PrimeNG y TailwindCSS,
  con opciones para crear y editar clientes. Ajustada para que no se desborde.
-->

<div class="p-6">
  <!-- Botón para crear un nuevo cliente -->
  <div class="flex justify-end mb-4">
    <button
      pButton
      type="button"
      class="p-button p-component bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md"
      icon="pi pi-plus"
      label="Nuevo Cliente"
      [routerLink]="['/clientes/nuevo']"
    >
    </button>
  </div>

  <!-- Tabla responsiva -->
  <div class="overflow-x-auto rounded-lg shadow-md max-w-full">
    <p-table
      [value]="clients"
      stripedRows
      responsiveLayout="scroll"
      class="w-full table-fixed"
    >
      <!-- Encabezado de tabla -->
      <ng-template pTemplate="header">
        <tr class="bg-gray-100 text-gray-700 text-sm uppercase tracking-wide">
          <th class="p-3 text-left w-20">Id</th>
          <th class="p-3 text-left w-1/6">Nombre</th>
          <th class="p-3 text-left w-1/6">Apellido</th>
          <th class="p-3 text-left w-1/4">Email</th>
          <th class="p-3 text-left w-1/6">Teléfono</th>
          <th class="p-3 text-left w-1/4">Dirección</th>
          <th class="p-3 text-center w-20">Acciones</th>
        </tr>
      </ng-template>

      <!-- Cuerpo de tabla -->
      <ng-template pTemplate="body" let-client>
        <tr class="border-b hover:bg-gray-50">
          <td class="p-3">{{ client.client_id }}</td>
          <td class="p-3">{{ client.first_name }}</td>
          <td class="p-3">{{ client.last_name }}</td>
          <td class="p-3 truncate">{{ client.email }}</td>
          <td class="p-3 whitespace-nowrap">{{ client.phone }}</td>
          <td class="p-3 truncate">{{ client.address }}</td>
          <td class="p-3 text-center">
            <!-- Botón editar -->
            <a
              [routerLink]="['/clientes/editar', client.client_id]"
              class="text-blue-600 hover:text-blue-800"
            >
              <i class="pi pi-pencil"></i>
            </a>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
